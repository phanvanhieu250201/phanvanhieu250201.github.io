let listcardfour = [
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
].sort(() => Math.random() - 0.5);
let listcardsix = [
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"bulbasaur",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",
  },
  {
    name:"bulbasaur",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",
  },
  {
    name:"charmande",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
  },
  {
    name:"charmande",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
  },
].sort(() => Math.random() - 0.5);
let listcardeight = [
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"bulbasaur",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",
  },
  {
    name:"bulbasaur",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",
  },
  {
    name:"charmande",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
  },
  {
    name:"charmande",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
  },
  {
    name:"pidgey",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/16.png",
  },
  {
    name:"pidgey",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/16.png",
  },
  {
    name:"nidorino",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/32.png",
  },
  {
    name:"nidorino",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/32.png",
  },
].sort(() => Math.random() - 0.5);
let listcardten = [
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"spearow",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
  },
  {
    name:"wartortle",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
  },
  {
    name:"ponyta",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
  },
  {
    name:"gastly",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
  },
  {
    name:"bulbasaur",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",
  },
  {
    name:"bulbasaur",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",
  },
  {
    name:"charmande",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
  },
  {
    name:"charmande",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
  },
  {
    name:"pidgey",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/16.png",
  },
  {
    name:"pidgey",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/16.png",
  },
  {
    name:"nidorino",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/32.png",
  },
  {
    name:"nidorino",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/32.png",
  },
  {
    name:"clefable",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/36.png",
  },
  {
    name:"clefable",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/36.png",
  },
  {
    name:"zubat",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/41.png",
  },
  {
    name:"zubat",
    image:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/41.png",
  },
].sort(() => Math.random() - 0.5);
Vue.createApp({
    data() {
      return {
        countModeGame: 4,
        listcard:listcardfour,
        active: [true,true,true,true,true,true,true,true],
        nameold:"",
        name: "",
        score:0,
        vitri:"",
        vitriold:"",
        canClick: true, // Cho phép lật thẻ hay không
        chooseCount: 4,
      }
    },
    methods:{
        SelectModeGame(count){
            this.countModeGame = count;
            
            if(count == 4){
              listcardfour.sort(() => Math.random() - 0.5);
              this.listcard = listcardfour;
              this.chooseCount = 4;
            }
            else if(count == 6){
              listcardsix.sort(() => Math.random() - 0.5);
              this.listcard = listcardsix;
              this.chooseCount = 6;
            }
            else if(count == 8){
              listcardeight.sort(() => Math.random() - 0.5);
              this.listcard = listcardeight;
              this.chooseCount = 8;
            }
            else if(count == 10){
              listcardten.sort(() => Math.random() - 0.5);
              this.listcard = listcardten;
              this.chooseCount = 10;
            }
            this.active = new Array(this.listcard.length).fill(true);

            
        },
        handleResetGame(){
          console.log('this.countModeGame',this.countModeGame)
          if(this.countModeGame == 4){
            listcardfour.sort(() => Math.random() - 0.5);
            this.listcard = listcardfour;
            this.chooseCount = 4;
          }
          else if(this.countModeGame == 6){
            listcardsix.sort(() => Math.random() - 0.5);
            this.listcard = listcardsix;
            this.chooseCount = 6;
          }
          else if(this.countModeGame == 8){
            listcardeight.sort(() => Math.random() - 0.5);
            this.listcard = listcardeight;
            this.chooseCount = 8;
          }
          else if(this.countModeGame == 10){
            listcardten.sort(() => Math.random() - 0.5);
            this.listcard = listcardten;
            this.chooseCount = 10;
          }
          this.active = new Array(this.listcard.length).fill(true);

          this.nameold = "";
            this.name = "";
            this.score = 0;
            this.vitri = "";
            this.vitriold = "";
            this.canClick = true;
            
        },
        handleActive(index, name) {
          // Kiểm tra nếu không thể click (đang chờ)
          if (!this.canClick || !this.active[index]) return;

          if(this.chooseCount == 0){
            return;
          }
    
          this.active[index] = false;
          this.nameold = this.name;
          this.vitriold = this.vitri;
          this.name = name;
          this.vitri = index;
    
          if (this.nameold === this.name && this.vitriold !== this.vitri) {
            // Nếu 2 thẻ giống nhau
            this.score++;
            
            this.name = "";
            this.nameold = "";
            this.vitri = "";
            this.vitriold = "";
          } else if (this.nameold !== "") {
            // Nếu 2 thẻ khác nhau, lật lại sau 1 giây
            this.canClick = false; // Vô hiệu hóa click trong khi chờ
            setTimeout(() => {
              if (this.vitriold >= 0) {
                this.active[this.vitriold] = true;
              }
              if (this.vitri !== "") {
                this.active[this.vitri] = true;
              }
              this.name = "";
              this.nameold = "";
              this.vitri = "";
              this.vitriold = "";
              this.canClick = true; // Cho phép lật tiếp
              this.chooseCount--;
            }, 1000);
          }
          
        }
    },
  }).mount('#app')